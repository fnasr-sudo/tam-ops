<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Tam Ops</title>
<style>
  :root { --bg: #0d1117; --card: #161b22; --border: #30363d; --text: #e6edf3; --dim: #8b949e; --green: #3fb950; --red: #f85149; --blue: #58a6ff; }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, system-ui, sans-serif; background: var(--bg); color: var(--text); padding-bottom: 80px; -webkit-font-smoothing: antialiased; }
  
  .header { background: var(--card); border-bottom: 1px solid var(--border); padding: 16px; position: sticky; top: 0; z-index: 100; display: flex; justify-content: space-between; align-items: center; }
  .header h1 { font-size: 18px; font-weight: 700; }
  .live-indicator { display: flex; align-items: center; gap: 6px; font-size: 11px; color: var(--green); font-weight: 600; letter-spacing: 0.5px; }
  .dot { width: 6px; height: 6px; background: var(--green); border-radius: 50%; animation: pulse 2s infinite; }
  @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

  .container { max-width: 800px; margin: 0 auto; padding: 16px; }

  /* Navigation Tabs */
  .tabs { display: flex; background: var(--card); border-bottom: 1px solid var(--border); position: sticky; top: 53px; z-index: 90; overflow-x: auto; }
  .tab { flex: 1; text-align: center; padding: 12px; font-size: 13px; color: var(--dim); border-bottom: 2px solid transparent; cursor: pointer; white-space: nowrap; }
  .tab.active { color: var(--text); border-bottom-color: var(--green); font-weight: 600; }

  .tab-content { display: none; }
  .tab-content.active { display: block; animation: fadeIn 0.2s; }
  @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

  /* Stats Grid */
  .stats { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 20px; margin-top: 16px; }
  .stat-card { background: var(--card); border: 1px solid var(--border); padding: 12px; border-radius: 8px; }
  .stat-label { font-size: 10px; text-transform: uppercase; color: var(--dim); margin-bottom: 4px; letter-spacing: 0.5px; }
  .stat-val { font-size: 18px; font-weight: 700; }
  .green { color: var(--green); } .red { color: var(--red); }

  /* Setup Card */
  .setup-card { background: var(--card); border: 1px solid var(--border); border-radius: 8px; overflow: hidden; margin-bottom: 16px; }
  .setup-header { padding: 12px 16px; background: rgba(255,255,255,0.03); border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
  .pair-name { font-size: 16px; font-weight: 700; }
  .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; text-transform: uppercase; margin-left: 8px; }
  .bg-green { background: rgba(63,185,80,0.15); color: var(--green); }
  .bg-red { background: rgba(248,81,73,0.15); color: var(--red); }
  .bg-blue { background: rgba(88,166,255,0.15); color: var(--blue); }

  .setup-body { padding: 16px; }
  .setup-meta { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid var(--border); }
  .meta-item label { font-size: 10px; color: var(--dim); display: block; margin-bottom: 2px; text-transform: uppercase; }
  .meta-item val { font-size: 14px; font-weight: 600; }

  /* Grid List */
  .grid-list { list-style: none; }
  .grid-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
  .grid-item:last-child { border-bottom: none; }
  .grid-left { display: flex; flex-direction: column; gap: 2px; }
  .level-name { font-size: 13px; font-weight: 600; color: var(--blue); }
  .level-detail { font-size: 11px; color: var(--dim); }
  .grid-right { text-align: right; }
  .profit-val { font-size: 13px; font-weight: 600; color: var(--green); font-family: monospace; }
  .status-badge { font-size: 9px; padding: 2px 5px; background: rgba(255,255,255,0.1); border-radius: 3px; color: var(--dim); margin-top: 2px; display: inline-block; }
  .total-row { display: flex; justify-content: space-between; padding-top: 12px; margin-top: 8px; border-top: 1px dashed var(--border); font-weight: 600; font-size: 13px; }

  /* Empty State */
  .empty-state { padding: 40px; text-align: center; color: var(--dim); font-size: 13px; }

  /* Strategy Card */
  .strategy-desc { font-size: 14px; line-height: 1.5; color: var(--dim); margin-bottom: 16px; }
  .strategy-rules li { padding: 8px 0; border-bottom: 1px solid var(--border); font-size: 13px; display: flex; gap: 8px; }
  
  .id-badge { font-size: 10px; background: rgba(255,255,255,0.1); color: var(--dim); padding: 2px 5px; border-radius: 4px; margin-right: 6px; font-family: monospace; vertical-align: middle; }
</style>
</head>
<body>

<div class=\"header\">
  <h1>Tam<span>Ops</span></h1>
  <div class=\"live-indicator\"><div class=\"dot\"></div> LIVE</div>
</div>

<div class=\"tabs\">
  <div class=\"tab active\" data-tab=\"dashboard\">Dashboard</div>
  <div class=\"tab\" data-tab=\"history\">History</div>
  <div class=\"tab\" data-tab=\"strategies\">Strategies</div>
</div>

<div class=\"container\">
  
  <!-- DASHBOARD -->
  <div id=\"tab-dashboard\" class=\"tab-content active\">
    <div class=\"stats\">
      <div class=\"stat-card\">
        <div class=\"stat-label\">Realized P&L</div>
        <div class=\"stat-val green\" id=\"daily-pnl\">+$196.29</div>
      </div>
      <div class=\"stat-card\">
        <div class=\"stat-label\">Balance</div>
        <div class=\"stat-val\" id=\"potential-pnl\">$372.98</div>
      </div>
    </div>
    <div id=\"setups-container\"></div>
  </div>

  <!-- HISTORY -->
  <div id=\"tab-history\" class=\"tab-content\">
    <div class=\"setup-card\">
        <div class=\"setup-header\">
          <div>
            <span class=\"pair-name\">Echo Fiber BUY (1.17465)</span>
            <span class=\"badge bg-green\">CLOSED</span>
          </div>
          <div style=\"font-size:11px; color:var(--dim)\">Cut Partial</div>
        </div>
        <div class=\"setup-body\">
            <div class=\"total-row\">
                <span>Realized Profit</span>
                <span class=\"green\">+$69.80</span>
            </div>
        </div>
    </div>
    <div class=\"setup-card\">
        <div class=\"setup-header\">
          <div>
            <span class=\"pair-name\">Echo Cable SELL (1.35138)</span>
            <span class=\"badge bg-green\">CLOSED</span>
          </div>
          <div style=\"font-size:11px; color:var(--dim)\">Cut Partial (Completed)</div>
        </div>
        <div class=\"setup-body\">
            <div class=\"total-row\">
                <span>Status</span>
                <span class=\"green\">Finished</span>
            </div>
        </div>
    </div>
  </div>

  <!-- STRATEGIES -->
  <div id=\"tab-strategies\" class=\"tab-content\">
    <div class=\"setup-card\">
      <div class=\"setup-header\"><span class=\"pair-name\">Echo Strategy</span></div>
      <div class=\"setup-body\">
        <div class=\"strategy-desc\">Price echoes back to its origin. Laddered entries around the impulse start level.</div>\n        <ul class=\"strategy-rules\" style=\"list-style:none\">\n          <li><span>üéØ</span> TP: Laddered (+6, +8, +12 pips)</li>\n          <li><span>üõ°Ô∏è</span> SL: Soft stop (monitor)</li>\n          <li><span>‚è∞</span> Swap: Close all before rollover</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n<script>\n// Tab Switching\ndocument.querySelectorAll('.tab').forEach(t => {\n  t.addEventListener('click', () => {\n    document.querySelectorAll('.tab').forEach(x => x.classList.remove('active'));\n    document.querySelectorAll('.tab-content').forEach(x => x.classList.remove('active'));\n    t.classList.add('active');\n    document.getElementById('tab-' + t.dataset.tab).classList.add('active');\n  });\n});\n\n// HARDCODED DATA TO BYPASS CACHE\nconst staticData = {\n  \"updatedAt\": \"2026-02-20T16:50:00Z\",\n  \"stats\": {\n    \"dailyPnl\": 196.29,\n    \"balance\": 372.98,\n    \"equity\": 372.98,\n    \"totalLots\": 0.0,\n    \"status\": \"FLAT\"\n  },\n  \"setups\": [\n    {\n      \"id\": \"echo-ninja-buy-20260220\",\n      \"pair\": \"USDJPY\",\n      \"direction\": \"BUY\",\n      \"strategy\": \"Echo Grid\",\n      \"origin\": \"153.64\",\n      \"baseLot\": \"0.53 (Hot)\",\n      \"status\": \"Pending\",\n      \"totalExpectedProfit\": 35.00,\n      \"levels\": [\n        { \"displayId\": \"18\", \"name\": \"+3 pips (Scout)\", \"price\": 153.670, \"vol\": 0.01, \"tp\": 153.700, \"expectedProfit\": 0.20, \"status\": \"Pending\", \"orderId\": 2880917 },\n        { \"displayId\": \"19\", \"name\": \"Origin\", \"price\": 153.640, \"vol\": 0.04, \"tp\": 153.700, \"expectedProfit\": 1.57, \"status\": \"Pending\", \"orderId\": 2880918 },\n        { \"displayId\": \"20\", \"name\": \"-2 pips\", \"price\": 153.620, \"vol\": 0.06, \"tp\": 153.730, \"expectedProfit\": 4.31, \"status\": \"Pending\", \"orderId\": 2880919 },\n        { \"displayId\": \"21\", \"name\": \"-4 pips\", \"price\": 153.600, \"vol\": 0.08, \"tp\": 153.730, \"expectedProfit\": 6.79, \"status\": \"Pending\", \"orderId\": 2880920 },\n        { \"displayId\": \"22\", \"name\": \"-6 pips\", \"price\": 153.580, \"vol\": 0.03, \"tp\": 153.730, \"expectedProfit\": 2.94, \"status\": \"Pending\", \"orderId\": 2880921 },\n        { \"displayId\": \"23\", \"name\": \"-7 pips\", \"price\": 153.570, \"vol\": 0.01, \"tp\": 153.770, \"expectedProfit\": 1.31, \"status\": \"Pending\", \"orderId\": 2880922 },\n        { \"displayId\": \"24\", \"name\": \"-10 pips\", \"price\": 153.540, \"vol\": 0.02, \"tp\": 153.770, \"expectedProfit\": 3.00, \"status\": \"Pending\", \"orderId\": 2880923 },\n        { \"displayId\": \"25\", \"name\": \"-13 pips\", \"price\": 153.510, \"vol\": 0.02, \"tp\": 153.770, \"expectedProfit\": 3.39, \"status\": \"Pending\", \"orderId\": 2880924 },\n        { \"displayId\": \"26\", \"name\": \"-16 pips\", \"price\": 153.480, \"vol\": 0.01, \"tp\": 153.770, \"expectedProfit\": 1.90, \"status\": \"Pending\", \"orderId\": 2880925 },\n        { \"displayId\": \"27\", \"name\": \"-19 pips (OF)\", \"price\": 153.450, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 6.27, \"status\": \"Pending\", \"orderId\": 2880926 },\n        { \"displayId\": \"28\", \"name\": \"-22 pips (OF)\", \"price\": 153.420, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 6.86, \"status\": \"Pending\", \"orderId\": 2880927 },\n        { \"displayId\": \"29\", \"name\": \"-25 pips (OF)\", \"price\": 153.390, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 7.45, \"status\": \"Pending\", \"orderId\": 2880928 },\n        { \"displayId\": \"30\", \"name\": \"-28 pips (OF)\", \"price\": 153.360, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 8.04, \"status\": \"Pending\", \"orderId\": 2880929 },\n        { \"displayId\": \"31\", \"name\": \"-31 pips (OF)\", \"price\": 153.330, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 8.63, \"status\": \"Pending\", \"orderId\": 2880930 },\n        { \"displayId\": \"32\", \"name\": \"-34 pips (OF)\", \"price\": 153.300, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 9.22, \"status\": \"Pending\", \"orderId\": 2880931 },\n        { \"displayId\": \"33\", \"name\": \"-37 pips (OF)\", \"price\": 153.270, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 9.80, \"status\": \"Pending\", \"orderId\": 2880932 },\n        { \"displayId\": \"34\", \"name\": \"-40 pips (OF)\", \"price\": 153.240, \"vol\": 0.03, \"tp\": 153.770, \"expectedProfit\": 10.39, \"status\": \"Pending\", \"orderId\": 2880933 },\n        { \"displayId\": \"35\", \"name\": \"-43 pips (OF)\", \"price\": 153.210, \"vol\": 0.01, \"tp\": 153.770, \"expectedProfit\": 3.67, \"status\": \"Pending\", \"orderId\": 2880934 }\n      ]\n    },\n    {\n      \"id\": \"echo-fiber-buy-20260219\",\n      \"pair\": \"EURUSD\",\n      \"direction\": \"BUY\",\n      \"strategy\": \"Echo Grid\",\n      \"origin\": \"1.1732\",\n      \"baseLot\": \"0.20\",\n      \"status\": \"Pending (Overnight)\",\n      \"totalExpectedProfit\": 26.70,\n      \"levels\": [\n        { \"displayId\": \"54\", \"name\": \"+3 pips\", \"price\": 1.1735, \"vol\": 0.01, \"tp\": 1.1738, \"expectedProfit\": 0.30, \"status\": \"Pending\" },\n        { \"displayId\": \"55\", \"name\": \"Origin\", \"price\": 1.1732, \"vol\": 0.03, \"tp\": 1.1738, \"expectedProfit\": 1.80, \"status\": \"Pending\" },\n        { \"displayId\": \"56\", \"name\": \"-2 pips\", \"price\": 1.1730, \"vol\": 0.04, \"tp\": 1.1741, \"expectedProfit\": 4.40, \"status\": \"Pending\" },\n        { \"displayId\": \"57\", \"name\": \"-4 pips\", \"price\": 1.1728, \"vol\": 0.05, \"tp\": 1.1741, \"expectedProfit\": 6.50, \"status\": \"Pending\" },\n        { \"displayId\": \"58\", \"name\": \"-6 pips\", \"price\": 1.1726, \"vol\": 0.02, \"tp\": 1.1741, \"expectedProfit\": 3.00, \"status\": \"Pending\" },\n        { \"displayId\": \"59\", \"name\": \"-7 pips\", \"price\": 1.1725, \"vol\": 0.01, \"tp\": 1.1745, \"expectedProfit\": 2.00, \"status\": \"Pending\" },\n        { \"displayId\": \"60\", \"name\": \"-10 pips\", \"price\": 1.1722, \"vol\": 0.02, \"tp\": 1.1745, \"expectedProfit\": 4.60, \"status\": \"Pending\" },\n        { \"displayId\": \"61\", \"name\": \"-13 pips\", \"price\": 1.1719, \"vol\": 0.01, \"tp\": 1.1745, \"expectedProfit\": 2.60, \"status\": \"Pending\" },\n        { \"displayId\": \"62\", \"name\": \"-16 pips\", \"price\": 1.1716, \"vol\": 0.01, \"tp\": 1.1745, \"expectedProfit\": 2.90, \"status\": \"Pending\" }\n      ]\n    },\n    {\n      \"id\": \"echo-fiber-sell-20260219\",\n      \"pair\": \"EURUSD\",\n      \"direction\": \"SELL\",\n      \"strategy\": \"Echo Grid\",\n      \"origin\": \"1.18029\",\n      \"baseLot\": \"0.08\",\n      \"status\": \"Pending (Overnight)\",\n      \"totalExpectedProfit\": 6.40,\n      \"levels\": [\n        { \"displayId\": \"63\", \"name\": \"Origin\", \"price\": 1.18029, \"vol\": 0.02, \"tp\": 1.17949, \"expectedProfit\": 1.60, \"status\": \"Pending\" },\n        { \"displayId\": \"64\", \"name\": \"+3 pips\", \"price\": 1.18059, \"vol\": 0.03, \"tp\": 1.17979, \"expectedProfit\": 2.40, \"status\": \"Pending\" },\n        { \"displayId\": \"65\", \"name\": \"+6 pips\", \"price\": 1.18089, \"vol\": 0.02, \"tp\": 1.18009, \"expectedProfit\": 1.60, \"status\": \"Pending\" },\n        { \"displayId\": \"66\", \"name\": \"+10 pips\", \"price\": 1.18129, \"vol\": 0.01, \"tp\": 1.18049, \"expectedProfit\": 0.80, \"status\": \"Pending\" }\n      ]\n    }\n  ]\n};\n\nasync function loadData() {\n  render(staticData);\n  try {\n    const res = await fetch('trades.json?t=' + Date.now());\n    const data = await res.json();\n    render(data);\n  } catch (e) { console.log(\"Using static data\"); }\n}\n\nfunction render(data) {\n  // Stats\n  document.getElementById('daily-pnl').textContent = `${(data.stats.dailyPnl >= 0 ? '+' : '')}$${(data.stats.dailyPnl || 0).toFixed(2)}`;\n  document.getElementById('daily-pnl').className = `stat-val ${data.stats.dailyPnl >= 0 ? 'green' : 'red'}`;\n  document.getElementById('potential-pnl').textContent = `$${(data.stats.balance || 0).toFixed(2)}`;\n  \n  // Setups\n  const container = document.getElementById('setups-container');\n  container.innerHTML = '';\n\n  if (!data.setups || data.setups.length === 0) {\n    container.innerHTML = '<div class=\"empty-state\">No active operations.</div>';\n    return;\n  }\n\n  data.setups.forEach(setup => {\n    const dirClass = setup.direction === 'BUY' ? 'bg-green' : 'bg-red';\n    \n    // Grid List\n    const levelsHtml = setup.levels.map(lvl => `\n      <li class=\"grid-item\">\n        <div class=\"grid-left\">\n          <div>\n            <span class=\"id-badge\">#${lvl.displayId || '?'}</span>\n            <span class=\"level-name\">${lvl.name}</span>\n          </div>\n          <span class=\"level-detail\">${lvl.vol} lots @ ${lvl.price} (TP: ${lvl.tp})</span>\n        </div>\n        <div class=\"grid-right\">\n          <div class=\"profit-val\">+$${lvl.expectedProfit.toFixed(2)}</div>\n          <span class=\"status-badge\">${lvl.status}</span>\n        </div>\n      </li>\n    `).join('');\n\n    const card = `\n      <div class=\"setup-card\">\n        <div class=\"setup-header\">\n          <div>\n            <span class=\"pair-name\">${setup.pair}</span>\n            <span class=\"badge ${dirClass}\">${setup.direction}</span>\n          </div>\n          <div style=\"font-size:11px; color:var(--dim)\">${setup.strategy}</div>\n        </div>\n        \n        <div class=\"setup-body\">\n          <div class=\"setup-meta\">\n            <div class=\"meta-item\"><label>Origin</label><val>${setup.origin}</val></div>\n            <div class=\"meta-item\"><label>Status</label><val>${setup.status}</val></div>\n            <div class=\"meta-item\"><label>Total Size</label><val>${setup.baseLot}</val></div>\n            <div class=\"meta-item\"><label>Potential</label><val class=\"green\">+$${setup.totalExpectedProfit.toFixed(2)}</val></div>\n          </div>\n\n          <ul class=\"grid-list\">\n            ${levelsHtml}\n          </ul>\n          \n          <div class=\"total-row\">\n            <span>Total Potential Profit</span>\n            <span class=\"green\">+$${setup.totalExpectedProfit.toFixed(2)}</span>\n          </div>\n        </div>\n      </div>\n    `;\n    container.innerHTML += card;\n  });\n}\n\nloadData();\nsetInterval(loadData, 10000);\n</script>\n\n</body>\n</html>\n